[
http://www.flipcode.com/archives/Raytracing_Topics_Techniques-Part_3_Refractions_and_Beers_Law.shtml
x-coordinates have been reversed from the original, since I use a right-handed coordinate system
]

image 500 375
depth 6

camera
	eye 0 0 -5
	look 0 0 0
	up 0 1 0
	screen 8 6
end

background 0 0 0
ambient 0 0 0

material default
	[ color 0.2 0.2 0.2 ]
	diffuse 0.04 0.04 0.04 [ 0.2 * color ]
	specular 0.8 0.8 0.8
	shininess 20
	reflect 0 0 0
	transmit 0 0 0
	ior 1.5
end

[ ground plane ]
plane
	use default
	normal 0 1 0
	distance 4.4
	diffuse 0.4 0.3 0.3
	scale 20
end

[ big sphere ]
sphere
	use default
	pos -2 0.8 3
	radius 2.5
	[ color 0.7 0.7 1.0 ]
	reflect 0.14 0.14 0.2 [ 0.2 * color ]
	transmit 0.56 0.56 0.8 [ 0.8 * color ]
	ior 1.3
end

[ small sphere ]
sphere
	use default
	pos 5.5 -0.5 7
	radius 2
	[ color 0.7 0.7 1.0 ]
	reflect 0.35 0.35 0.5 [ 0.5 * color ]
	diffuse 0.07 0.07 0.1 [ 0.1 * color ]
end

[ light source 1 ]
light
	pos 0 5 5
	[ radius 0.1 ]
	color 0.4 0.4 0.4
	diffuse 2
	specular 2
end

[ light source 2 ]
light
	pos 3 5 1
	[ radius 0.1 ]
	color 0.6 0.6 0.8
	diffuse 2
	specular 2
end

[ extra sphere ]
sphere
	use default
	pos 1.5 -3.8 1
	radius 1.5
	[ color 1 0.4 0.4 ]
	transmit 0.8 0.32 0.32 [ 0.8 * color ]
end

[ back plane ]
plane
	use default
	normal -0.4 0 -1
	distance 12
	[ color 0.5 0.3 0.5 ]
	diffuse 0.3 0.18 0.3 [ 0.6 * color ]
	specular 0 0 0
	scale 30
end

[ ceiling plane ]
plane
	use default
	normal 0 -1 0
	distance 7.4
	[ color 0.4 0.7 0.7 ]
	diffuse 0.2 0.35 0.35 [ 0.5 * color ]
	specular 0 0 0
	scale 20
end

[ grid ]

material grid
	use default
	[ color 0.3 1.0 0.4 ]
	diffuse 0.18 0.6 0.24 [ 0.6 * color ]
	specular 0.6 0.6 0.6
end

sphere
	use grid
	pos 4.5 -4.3 10
	radius 0.3
end

sphere
	use grid
	pos 4.5 -2.8 10
	radius 0.3
end

sphere
	use grid
	pos 4.5 -1.3 10
	radius 0.3
end

sphere
	use grid
	pos 4.5 0.2 10
	radius 0.3
end

sphere
	use grid
	pos 4.5 1.7 10
	radius 0.3
end

sphere
	use grid
	pos 4.5 3.2 10
	radius 0.3
end

sphere
	use grid
	pos 4.5 4.7 10
	radius 0.3
end

sphere
	use grid
	pos 3.0 -4.3 10
	radius 0.3
end

sphere
	use grid
	pos 3.0 -2.8 10
	radius 0.3
end

sphere
	use grid
	pos 3.0 -1.3 10
	radius 0.3
end

sphere
	use grid
	pos 3.0 0.2 10
	radius 0.3
end

sphere
	use grid
	pos 3.0 1.7 10
	radius 0.3
end

sphere
	use grid
	pos 3.0 3.2 10
	radius 0.3
end

sphere
	use grid
	pos 3.0 4.7 10
	radius 0.3
end

sphere
	use grid
	pos 1.5 -4.3 10
	radius 0.3
end

sphere
	use grid
	pos 1.5 -2.8 10
	radius 0.3
end

sphere
	use grid
	pos 1.5 -1.3 10
	radius 0.3
end

sphere
	use grid
	pos 1.5 0.2 10
	radius 0.3
end

sphere
	use grid
	pos 1.5 1.7 10
	radius 0.3
end

sphere
	use grid
	pos 1.5 3.2 10
	radius 0.3
end

sphere
	use grid
	pos 1.5 4.7 10
	radius 0.3
end

sphere
	use grid
	pos -0.0 -4.3 10
	radius 0.3
end

sphere
	use grid
	pos -0.0 -2.8 10
	radius 0.3
end

sphere
	use grid
	pos -0.0 -1.3 10
	radius 0.3
end

sphere
	use grid
	pos -0.0 0.2 10
	radius 0.3
end

sphere
	use grid
	pos -0.0 1.7 10
	radius 0.3
end

sphere
	use grid
	pos -0.0 3.2 10
	radius 0.3
end

sphere
	use grid
	pos -0.0 4.7 10
	radius 0.3
end

sphere
	use grid
	pos -1.5 -4.3 10
	radius 0.3
end

sphere
	use grid
	pos -1.5 -2.8 10
	radius 0.3
end

sphere
	use grid
	pos -1.5 -1.3 10
	radius 0.3
end

sphere
	use grid
	pos -1.5 0.2 10
	radius 0.3
end

sphere
	use grid
	pos -1.5 1.7 10
	radius 0.3
end

sphere
	use grid
	pos -1.5 3.2 10
	radius 0.3
end

sphere
	use grid
	pos -1.5 4.7 10
	radius 0.3
end

sphere
	use grid
	pos -3.0 -4.3 10
	radius 0.3
end

sphere
	use grid
	pos -3.0 -2.8 10
	radius 0.3
end

sphere
	use grid
	pos -3.0 -1.3 10
	radius 0.3
end

sphere
	use grid
	pos -3.0 0.2 10
	radius 0.3
end

sphere
	use grid
	pos -3.0 1.7 10
	radius 0.3
end

sphere
	use grid
	pos -3.0 3.2 10
	radius 0.3
end

sphere
	use grid
	pos -3.0 4.7 10
	radius 0.3
end

sphere
	use grid
	pos -4.5 -4.3 10
	radius 0.3
end

sphere
	use grid
	pos -4.5 -2.8 10
	radius 0.3
end

sphere
	use grid
	pos -4.5 -1.3 10
	radius 0.3
end

sphere
	use grid
	pos -4.5 0.2 10
	radius 0.3
end

sphere
	use grid
	pos -4.5 1.7 10
	radius 0.3
end

sphere
	use grid
	pos -4.5 3.2 10
	radius 0.3
end

sphere
	use grid
	pos -4.5 4.7 10
	radius 0.3
end

sphere
	use grid
	pos -6.0 -4.3 10
	radius 0.3
end

sphere
	use grid
	pos -6.0 -2.8 10
	radius 0.3
end

sphere
	use grid
	pos -6.0 -1.3 10
	radius 0.3
end

sphere
	use grid
	pos -6.0 0.2 10
	radius 0.3
end

sphere
	use grid
	pos -6.0 1.7 10
	radius 0.3
end

sphere
	use grid
	pos -6.0 3.2 10
	radius 0.3
end

sphere
	use grid
	pos -6.0 4.7 10
	radius 0.3
end
